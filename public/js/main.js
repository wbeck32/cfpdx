function getBeerInfo(e){$(".breweryBeers").remove(),$.getJSON("/beer/"+e,function(e){$.each(e,function(e,a){"data"===e&&(console.log(e),console.log(a.id))})})}function initMap(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude};$("div#findNearBeer").attr({lat:a.lat,lng:a.lng})},function(){handleLocationError(!0,infoWindow,map.getCenter())}):handleLocationError(!1,infoWindow,map.getCenter())}function handleLocationError(e,a,n){a.setPosition(n),a.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),a.open(map)}function addMarker(e,a){console.log(e,a);new google.maps.Marker({lat:e,lng:a,map:map})}$("div#findNearBeer").click(function(){var e=$("div#findNearBeer").attr("lat"),a=$("div#findNearBeer").attr("lng");$("li.beerInfo").remove(),$.getJSON("/findNearBeer/"+e+"/"+a,function(e){$.each(e,function(e,a){if("data"===e)for(var n,r=0;r<10;r++)n=void 0!==a[r].brewery.images?a[r].brewery.images.icon:"../images/beer.png",$("<li/>").addClass("beerInfo").bind("click",function(){$(".breweryBeers").remove()}).attr("id",a[r].brewery.id).append('<span class="icon"><img src="'+n+'"></span>').append('<span><div class="breweryName">'+a[r].brewery.name+"</div>").append('<div class="breweryAddress">'+a[r].streetAddress+"</div>").append('<div class="breweryPhone">'+a[r].phone+"</div></span>").appendTo("ul#beerData")})})}),$("ul#beerData").on("click","li",function(e){var a=$(this).attr("id");$.getJSON("/brewery/"+a+"/beers",function(e){if(e.data){var n=$("<div class='breweryBeers'></div>").appendTo("li#"+a);$.each(e.data,function(a,r){var i=$("<div/>").attr("id",e.data[a].id).appendTo(n);$('<span class="findById"/>').html('<span class="displayName">'+e.data[a].nameDisplay+"</span>").append('<span class="abv">'+e.data[a].abv+"</span>").click(function(){getBeerInfo(e.data[a].id)}).appendTo(i)})}else $('<div class="breweryBeers"></div>').html("<div>Sorry, no beer data available for this brewery.</div>").appendTo("li#"+a)})});var map,infoWindow;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXkuanMiLCJtYXBzLmpzIl0sIm5hbWVzIjpbImdldEJlZXJJbmZvIiwiYmVlcklkIiwiJCIsInJlbW92ZSIsImdldEpTT04iLCJkYXRhIiwiZWFjaCIsImtleSIsInZhbCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImluaXRNYXAiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwicG9zIiwibGF0IiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJhdHRyIiwiaGFuZGxlTG9jYXRpb25FcnJvciIsImluZm9XaW5kb3ciLCJtYXAiLCJnZXRDZW50ZXIiLCJicm93c2VySGFzR2VvbG9jYXRpb24iLCJzZXRQb3NpdGlvbiIsInNldENvbnRlbnQiLCJvcGVuIiwiYWRkTWFya2VyIiwiZ29vZ2xlIiwibWFwcyIsIk1hcmtlciIsImNsaWNrIiwiaWNvbiIsIm0iLCJ1bmRlZmluZWQiLCJicmV3ZXJ5IiwiaW1hZ2VzIiwiYWRkQ2xhc3MiLCJiaW5kIiwiYXBwZW5kIiwibmFtZSIsInN0cmVldEFkZHJlc3MiLCJwaG9uZSIsImFwcGVuZFRvIiwib24iLCJldmVudCIsImJyZXdlcnlJZCIsInRoaXMiLCJsaXN0RGl2IiwidmFsdWUiLCJiZWVyc0RpdiIsImh0bWwiLCJuYW1lRGlzcGxheSIsImFidiJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBQUEsWUFBQUMsR0FDQUMsRUFBQSxpQkFBQUMsU0FDQUQsRUFBQUUsUUFBQSxTQUFBSCxFQUFBLFNBQUFJLEdBQ0FILEVBQUFJLEtBQUFELEVBQUEsU0FBQUUsRUFBQUMsR0FDQSxTQUFBRCxJQUNBRSxRQUFBQyxJQUFBSCxHQUNBRSxRQUFBQyxJQUFBRixFQUFBRyxTQ0xBLFNBQUFDLFVBUUFDLFVBQUFDLFlBQ0FELFVBQUFDLFlBQUFDLG1CQUFBLFNBQUFDLEdBQ0EsSUFBQUMsR0FDQUMsSUFBQUYsRUFBQUcsT0FBQUMsU0FDQUMsSUFBQUwsRUFBQUcsT0FBQUcsV0FFQXBCLEVBQUEsb0JBQUFxQixNQUNBTCxJQUFBRCxFQUFBQyxJQUNBRyxJQUFBSixFQUFBSSxPQU1BLFdBQ0FHLHFCQUFBLEVBQUFDLFdBQUFDLElBQUFDLGVBSUFILHFCQUFBLEVBQUFDLFdBQUFDLElBQUFDLGFBSUEsU0FBQUgsb0JBQUFJLEVBQUFILEVBQUFSLEdBQ0FRLEVBQUFJLFlBQUFaLEdBQ0FRLEVBQUFLLFdBQUFGLEVBQ0EseUNBQ0Esb0RBQ0FILEVBQUFNLEtBQUFMLEtBR0EsU0FBQU0sVUFBQWQsRUFBQUcsR0FDQVosUUFBQUMsSUFBQVEsRUFBQUcsR0FDQSxJQUFBWSxPQUFBQyxLQUFBQyxRQUNBakIsSUFBQUEsRUFDQUcsSUFBQUEsRUFDQUssSUFBQUEsTUR6QkF4QixFQUFBLG9CQUFBa0MsTUFBQSxXQUNBLElBQUFsQixFQUFBaEIsRUFBQSxvQkFBQXFCLEtBQUEsT0FDQUYsRUFBQW5CLEVBQUEsb0JBQUFxQixLQUFBLE9BQ0FyQixFQUFBLGVBQUFDLFNBQ0FELEVBQUFFLFFBQUEsaUJBQUFjLEVBQUEsSUFBQUcsRUFBQSxTQUFBaEIsR0FDQUgsRUFBQUksS0FBQUQsRUFBQSxTQUFBRSxFQUFBQyxHQUNBLEdBQUEsU0FBQUQsRUFFQSxJQUFBLElBREE4QixFQUNBQyxFQUFBLEVBQUFBLEVBQUEsR0FBQUEsSUFFQUQsT0FEQUUsSUFBQS9CLEVBQUE4QixHQUFBRSxRQUFBQyxPQUNBakMsRUFBQThCLEdBQUFFLFFBQUFDLE9BQUFKLEtBRUEscUJBRUFuQyxFQUFBLFNBQ0F3QyxTQUFBLFlBQUFDLEtBQUEsUUFBQSxXQUFBekMsRUFBQSxpQkFBQUMsV0FDQW9CLEtBQUEsS0FBQWYsRUFBQThCLEdBQUFFLFFBQUE3QixJQUNBaUMsT0FBQSxnQ0FBQVAsRUFBQSxhQUNBTyxPQUFBLGtDQUFBcEMsRUFBQThCLEdBQUFFLFFBQUFLLEtBQUEsVUFDQUQsT0FBQSwrQkFBQXBDLEVBQUE4QixHQUFBUSxjQUFBLFVBQ0FGLE9BQUEsNkJBQUFwQyxFQUFBOEIsR0FBQVMsTUFBQSxpQkFDQUMsU0FBQSxxQkFPQTlDLEVBQUEsZUFBQStDLEdBQUEsUUFBQSxLQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQWpELEVBQUFrRCxNQUFBN0IsS0FBQSxNQUNBckIsRUFBQUUsUUFBQSxZQUFBK0MsRUFBQSxTQUFBLFNBQUE5QyxHQUNBLEdBQUFBLEVBQUFBLEtBQUEsQ0FDQSxJQUFBZ0QsRUFBQW5ELEVBQUEsb0NBQ0E4QyxTQUFBLE1BQUFHLEdBQ0FqRCxFQUFBSSxLQUFBRCxFQUFBQSxLQUFBLFNBQUFFLEVBQUErQyxHQUNBLElBQUFDLEVBQUFyRCxFQUFBLFVBQ0FxQixLQUFBLEtBQUFsQixFQUFBQSxLQUFBRSxHQUFBSSxJQUNBcUMsU0FBQUssR0FDQW5ELEVBQUEsNEJBQ0FzRCxLQUFBLDZCQUFBbkQsRUFBQUEsS0FBQUUsR0FBQWtELFlBQUEsV0FDQWIsT0FBQSxxQkFBQXZDLEVBQUFBLEtBQUFFLEdBQUFtRCxJQUFBLFdBQ0F0QixNQUFBLFdBQUFwQyxZQUFBSyxFQUFBQSxLQUFBRSxHQUFBSSxNQUNBcUMsU0FBQU8sVUFHQXJELEVBQUEsb0NBQ0FzRCxLQUFBLDhEQUNBUixTQUFBLE1BQUFHLE9DbkVBLElBQUF6QixJQUFBRCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2V0QmVlckluZm8gKGJlZXJJZCkge1xuJCgnLmJyZXdlcnlCZWVycycpLnJlbW92ZSgpO1xuICAkLmdldEpTT04oIFwiL2JlZXIvXCIrYmVlcklkLCBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAkLmVhY2goIGRhdGEsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHtcbiAgICAgIGlmKGtleSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHZhbC5pZCk7XG4gICAgICAgIC8vICQuZWFjaChzdHVmZiwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcbiAgICAgICAgLy8gICAkKCc8bGkvPicpXG4gICAgICAgIC8vICAgICAuYWRkQ2xhc3MoJ2JlZXJJbmZvJylcbiAgICAgICAgLy8gICAgIC5hdHRyKCdpZCcsdmFsLmlkKVxuICAgICAgICAvLyAgICAgLnRleHQoc3R1ZmZbaW5kZXhdKVxuICAgICAgICAvLyAgICAgLmFwcGVuZFRvKCcuZmluZEJ5SWQnKTtcbiAgICAgICAgLy8gfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbiQoJ2RpdiNmaW5kTmVhckJlZXInKS5jbGljayhmdW5jdGlvbigpe1xuICB2YXIgbGF0ID0gJCgnZGl2I2ZpbmROZWFyQmVlcicpLmF0dHIoJ2xhdCcpO1xuICB2YXIgbG5nID0gJCgnZGl2I2ZpbmROZWFyQmVlcicpLmF0dHIoJ2xuZycpO1xuICAkKCdsaS5iZWVySW5mbycpLnJlbW92ZSgpO1xuICAkLmdldEpTT04oIFwiL2ZpbmROZWFyQmVlci9cIitsYXQrXCIvXCIrbG5nLCBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAkLmVhY2goIGRhdGEsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHtcbiAgICAgICAgaWYoa2V5ID09PSAnZGF0YScpIHtcbiAgICAgICAgdmFyIGljb247XG4gICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgMTA7IG0rKykge1xuICAgICAgICAgIGlmKHZhbFttXS5icmV3ZXJ5LmltYWdlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpY29uID0gdmFsW21dLmJyZXdlcnkuaW1hZ2VzLmljb247XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGljb24gPSAnLi4vaW1hZ2VzL2JlZXIucG5nJztcbiAgICAgICAgICB9XG4gICAgICAgICAgJCgnPGxpLz4nKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2JlZXJJbmZvJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpeyQoJy5icmV3ZXJ5QmVlcnMnKS5yZW1vdmUoKTt9KVxuICAgICAgICAgICAgICAuYXR0cignaWQnLHZhbFttXS5icmV3ZXJ5LmlkKVxuICAgICAgICAgICAgICAuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImljb25cIj48aW1nIHNyYz1cIicraWNvbisnXCI+PC9zcGFuPicpXG4gICAgICAgICAgICAgIC5hcHBlbmQoJzxzcGFuPjxkaXYgY2xhc3M9XCJicmV3ZXJ5TmFtZVwiPicrdmFsW21dLmJyZXdlcnkubmFtZSsnPC9kaXY+JylcbiAgICAgICAgICAgICAgLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJyZXdlcnlBZGRyZXNzXCI+Jyt2YWxbbV0uc3RyZWV0QWRkcmVzcysnPC9kaXY+JylcbiAgICAgICAgICAgICAgLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJyZXdlcnlQaG9uZVwiPicrdmFsW21dLnBob25lKyc8L2Rpdj48L3NwYW4+JylcbiAgICAgICAgICAgICAgLmFwcGVuZFRvKCd1bCNiZWVyRGF0YScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG4kKCd1bCNiZWVyRGF0YScpLm9uKCdjbGljaycsICdsaScsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICB2YXIgYnJld2VyeUlkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICQuZ2V0SlNPTiggXCIvYnJld2VyeS9cIiticmV3ZXJ5SWQrXCIvYmVlcnNcIiwgZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgICBpZihkYXRhLmRhdGEpIHtcbiAgICAgICAgdmFyIGxpc3REaXYgPSAkKCBcIjxkaXYgY2xhc3M9J2JyZXdlcnlCZWVycyc+PC9kaXY+XCIpXG4gICAgICAgICAgICAuYXBwZW5kVG8oJ2xpIycrYnJld2VyeUlkKTtcbiAgICAgICAgJC5lYWNoKGRhdGEuZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICAgIHZhciBiZWVyc0RpdiA9ICQoJzxkaXYvPicpXG4gICAgICAgICAgICAuYXR0cignaWQnLCBkYXRhLmRhdGFba2V5XS5pZClcbiAgICAgICAgICAgIC5hcHBlbmRUbyhsaXN0RGl2KTtcbiAgICAgICAgJCgnPHNwYW4gY2xhc3M9XCJmaW5kQnlJZFwiLz4nKVxuICAgICAgICAgICAgLmh0bWwoJzxzcGFuIGNsYXNzPVwiZGlzcGxheU5hbWVcIj4nK2RhdGEuZGF0YVtrZXldLm5hbWVEaXNwbGF5Kyc8L3NwYW4+JylcbiAgICAgICAgICAgIC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiYWJ2XCI+JytkYXRhLmRhdGFba2V5XS5hYnYrJzwvc3Bhbj4nKVxuICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKCl7Z2V0QmVlckluZm8oZGF0YS5kYXRhW2tleV0uaWQpO30pXG4gICAgICAgICAgICAuYXBwZW5kVG8oYmVlcnNEaXYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJzxkaXYgY2xhc3M9XCJicmV3ZXJ5QmVlcnNcIj48L2Rpdj4nKVxuICAgICAgICAgICAgICAuaHRtbCgnPGRpdj5Tb3JyeSwgbm8gYmVlciBkYXRhIGF2YWlsYWJsZSBmb3IgdGhpcyBicmV3ZXJ5LjwvZGl2PicpXG4gICAgICAgICAgICAgIC5hcHBlbmRUbygnbGkjJyticmV3ZXJ5SWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcbiIsInZhciBtYXAsIGluZm9XaW5kb3c7XG4gZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgLy8gIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG4gIC8vICAgIGNlbnRlcjoge2xhdDogNDUuNTIzMSwgbG5nOiAtMTIyLjY3NjV9LFxuICAvLyAgICB6b29tOiAxMFxuICAvLyAgfSk7XG4gIC8vICBpbmZvV2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coKTtcblxuICAgLy8gVHJ5IEhUTUw1IGdlb2xvY2F0aW9uLlxuICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgdmFyIHBvcyA9IHtcbiAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXG4gICAgICAgfTtcbiAgICAgICAkKCdkaXYjZmluZE5lYXJCZWVyJykuYXR0cih7XG4gICAgICAgICBsYXQgOiBwb3MubGF0LFxuICAgICAgICAgbG5nIDogcG9zLmxuZ1xuICAgICAgIH0pO1xuICAgICAgLy8gSXMgaXQgcXVpY2tlciB0byBnZXQgYSBzdHJlZXQgYWRkcmVzcyBvciBhIGxhdGxuZz9cbiAgICAgIC8vIGZpbmQgYWRkcmVzc1xuICAgICAgLy8gaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbj9sYXRsbmc9Jytwb3MubGF0KycsJytwb3MubG5nJmtleT1BSXphU3lESy0tMnk5S1k5Tl9iVHcxV1kxcVNCMHViXzRrdUNibWtcbiAgICAgIC8vICBtYXAuc2V0Q2VudGVyKHBvcyk7XG4gICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgIGhhbmRsZUxvY2F0aW9uRXJyb3IodHJ1ZSwgaW5mb1dpbmRvdywgbWFwLmdldENlbnRlcigpKTtcbiAgICAgfSk7XG4gICB9IGVsc2Uge1xuICAgICAvLyBCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBHZW9sb2NhdGlvblxuICAgICBoYW5kbGVMb2NhdGlvbkVycm9yKGZhbHNlLCBpbmZvV2luZG93LCBtYXAuZ2V0Q2VudGVyKCkpO1xuICAgfVxuIH1cblxuIGZ1bmN0aW9uIGhhbmRsZUxvY2F0aW9uRXJyb3IoYnJvd3Nlckhhc0dlb2xvY2F0aW9uLCBpbmZvV2luZG93LCBwb3MpIHtcbiAgIGluZm9XaW5kb3cuc2V0UG9zaXRpb24ocG9zKTtcbiAgIGluZm9XaW5kb3cuc2V0Q29udGVudChicm93c2VySGFzR2VvbG9jYXRpb24gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcjogVGhlIEdlb2xvY2F0aW9uIHNlcnZpY2UgZmFpbGVkLicgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICdFcnJvcjogWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGdlb2xvY2F0aW9uLicpO1xuICAgaW5mb1dpbmRvdy5vcGVuKG1hcCk7XG4gfVxuXG5mdW5jdGlvbiBhZGRNYXJrZXIobGF0LCBsbmcpIHtcbiAgY29uc29sZS5sb2cobGF0LCBsbmcpO1xuICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgbGF0OiBsYXQsXG4gICAgbG5nOiBsbmcsXG4gICAgbWFwOiBtYXBcbiAgfSk7XG5cblxufVxuIl19
