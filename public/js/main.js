function getBeerInfo(e){$.getJSON("/beer/"+e,function(e){$.each(e,function(e,a){"data"===e&&(console.log(e),console.log(a.id))})})}function initMap(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude};$("div#findNearBeer").attr({lat:a.lat,lng:a.lng})},function(){handleLocationError(!0,infoWindow,map.getCenter())}):handleLocationError(!1,infoWindow,map.getCenter())}function handleLocationError(e,a,n){a.setPosition(n),a.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),a.open(map)}function addMarker(e,a){console.log(e,a);new google.maps.Marker({lat:e,lng:a,map:map})}$("div#findNearBeer").click(function(){var e=$("div#findNearBeer").attr("lat"),a=$("div#findNearBeer").attr("lng");$("li.beerInfo").remove(),$.getJSON("/findNearBeer/"+e+"/"+a,function(e){$.each(e,function(e,a){if("data"===e)for(var n=0;n<10;n++)$("<li/>").addClass("beerInfo").attr("id",a[n].brewery.id).html('<div class="breweryName">'+a[n].brewery.name+"</div>").append('<div class="breweryAddress">'+a[n].streetAddress+"</div>").append('<div class="breweryPhone">'+a[n].phone+"</div>").appendTo("ul#beerData")})})}),$("ul#beerData").on("click","li",function(e){var a=$(this).attr("id");$.getJSON("/brewery/"+a+"/beers",function(e){if(e.data){var n=$("<div class='breweryBeers'></div>").appendTo("li#"+a);$.each(e.data,function(a,r){var o=$("<div/>").attr("id",e.data[a].id).appendTo(n);$('<span class="findById"/>').html('<span class="displayName">'+e.data[a].nameDisplay+"</span>").append('<span class="abv">'+e.data[a].abv+"</span>").click(function(){getBeerInfo(e.data[a].id)}).appendTo(o)})}else $('<div class="breweryBeers"></div>').html("<div>Sorry, no beer data available for this brewery.</div>").appendTo("li#"+a)})});var map,infoWindow;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXkuanMiLCJtYXBzLmpzIl0sIm5hbWVzIjpbImdldEJlZXJJbmZvIiwiYmVlcklkIiwiJCIsImdldEpTT04iLCJkYXRhIiwiZWFjaCIsImtleSIsInZhbCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImluaXRNYXAiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwicG9zIiwibGF0IiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJhdHRyIiwiaGFuZGxlTG9jYXRpb25FcnJvciIsImluZm9XaW5kb3ciLCJtYXAiLCJnZXRDZW50ZXIiLCJicm93c2VySGFzR2VvbG9jYXRpb24iLCJzZXRQb3NpdGlvbiIsInNldENvbnRlbnQiLCJvcGVuIiwiYWRkTWFya2VyIiwiZ29vZ2xlIiwibWFwcyIsIk1hcmtlciIsImNsaWNrIiwicmVtb3ZlIiwibSIsImFkZENsYXNzIiwiYnJld2VyeSIsImh0bWwiLCJuYW1lIiwiYXBwZW5kIiwic3RyZWV0QWRkcmVzcyIsInBob25lIiwiYXBwZW5kVG8iLCJvbiIsImV2ZW50IiwiYnJld2VyeUlkIiwidGhpcyIsImxpc3REaXYiLCJ2YWx1ZSIsImJlZXJzRGl2IiwibmFtZURpc3BsYXkiLCJhYnYiXSwibWFwcGluZ3MiOiJBQUFBLFNBQUFBLFlBQUFDLEdBQ0FDLEVBQUFDLFFBQUEsU0FBQUYsRUFBQSxTQUFBRyxHQUNBRixFQUFBRyxLQUFBRCxFQUFBLFNBQUFFLEVBQUFDLEdBQ0EsU0FBQUQsSUFDQUUsUUFBQUMsSUFBQUgsR0FDQUUsUUFBQUMsSUFBQUYsRUFBQUcsU0NKQSxTQUFBQyxVQVFBQyxVQUFBQyxZQUNBRCxVQUFBQyxZQUFBQyxtQkFBQSxTQUFBQyxHQUNBLElBQUFDLEdBQ0FDLElBQUFGLEVBQUFHLE9BQUFDLFNBQ0FDLElBQUFMLEVBQUFHLE9BQUFHLFdBRUFuQixFQUFBLG9CQUFBb0IsTUFDQUwsSUFBQUQsRUFBQUMsSUFDQUcsSUFBQUosRUFBQUksT0FNQSxXQUNBRyxxQkFBQSxFQUFBQyxXQUFBQyxJQUFBQyxlQUlBSCxxQkFBQSxFQUFBQyxXQUFBQyxJQUFBQyxhQUlBLFNBQUFILG9CQUFBSSxFQUFBSCxFQUFBUixHQUNBUSxFQUFBSSxZQUFBWixHQUNBUSxFQUFBSyxXQUFBRixFQUNBLHlDQUNBLG9EQUNBSCxFQUFBTSxLQUFBTCxLQUdBLFNBQUFNLFVBQUFkLEVBQUFHLEdBQ0FaLFFBQUFDLElBQUFRLEVBQUFHLEdBQ0EsSUFBQVksT0FBQUMsS0FBQUMsUUFDQWpCLElBQUFBLEVBQ0FHLElBQUFBLEVBQ0FLLElBQUFBLE1EMUJBdkIsRUFBQSxvQkFBQWlDLE1BQUEsV0FDQSxJQUFBbEIsRUFBQWYsRUFBQSxvQkFBQW9CLEtBQUEsT0FDQUYsRUFBQWxCLEVBQUEsb0JBQUFvQixLQUFBLE9BQ0FwQixFQUFBLGVBQUFrQyxTQUNBbEMsRUFBQUMsUUFBQSxpQkFBQWMsRUFBQSxJQUFBRyxFQUFBLFNBQUFoQixHQUNBRixFQUFBRyxLQUFBRCxFQUFBLFNBQUFFLEVBQUFDLEdBQ0EsR0FBQSxTQUFBRCxFQUNBLElBQUEsSUFBQStCLEVBQUEsRUFBQUEsRUFBQSxHQUFBQSxJQUNBbkMsRUFBQSxTQUNBb0MsU0FBQSxZQUNBaEIsS0FBQSxLQUFBZixFQUFBOEIsR0FBQUUsUUFBQTdCLElBQ0E4QixLQUFBLDRCQUFBakMsRUFBQThCLEdBQUFFLFFBQUFFLEtBQUEsVUFDQUMsT0FBQSwrQkFBQW5DLEVBQUE4QixHQUFBTSxjQUFBLFVBQ0FELE9BQUEsNkJBQUFuQyxFQUFBOEIsR0FBQU8sTUFBQSxVQUNBQyxTQUFBLHFCQU9BM0MsRUFBQSxlQUFBNEMsR0FBQSxRQUFBLEtBQUEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBOUMsRUFBQStDLE1BQUEzQixLQUFBLE1BRUFwQixFQUFBQyxRQUFBLFlBQUE2QyxFQUFBLFNBQUEsU0FBQTVDLEdBQ0EsR0FBQUEsRUFBQUEsS0FBQSxDQUNBLElBQUE4QyxFQUFBaEQsRUFBQSxvQ0FDQTJDLFNBQUEsTUFBQUcsR0FDQTlDLEVBQUFHLEtBQUFELEVBQUFBLEtBQUEsU0FBQUUsRUFBQTZDLEdBQ0EsSUFBQUMsRUFBQWxELEVBQUEsVUFDQW9CLEtBQUEsS0FBQWxCLEVBQUFBLEtBQUFFLEdBQUFJLElBQ0FtQyxTQUFBSyxHQUNBaEQsRUFBQSw0QkFDQXNDLEtBQUEsNkJBQUFwQyxFQUFBQSxLQUFBRSxHQUFBK0MsWUFBQSxXQUNBWCxPQUFBLHFCQUFBdEMsRUFBQUEsS0FBQUUsR0FBQWdELElBQUEsV0FDQW5CLE1BQUEsV0FBQW5DLFlBQUFJLEVBQUFBLEtBQUFFLEdBQUFJLE1BQ0FtQyxTQUFBTyxVQUdBbEQsRUFBQSxvQ0FDQXNDLEtBQUEsOERBQ0FLLFNBQUEsTUFBQUcsT0M1REEsSUFBQXZCLElBQUFEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRCZWVySW5mbyAoYmVlcklkKSB7XG4gICQuZ2V0SlNPTiggXCIvYmVlci9cIitiZWVySWQsIGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICQuZWFjaCggZGF0YSwgZnVuY3Rpb24oIGtleSwgdmFsICkge1xuICAgICAgaWYoa2V5ID09PSAnZGF0YScpIHtcbiAgICAgICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgICAgY29uc29sZS5sb2codmFsLmlkKTtcbiAgICAgICAgLy8gJC5lYWNoKHN0dWZmLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpe1xuICAgICAgICAvLyAgICQoJzxsaS8+JylcbiAgICAgICAgLy8gICAgIC5hZGRDbGFzcygnYmVlckluZm8nKVxuICAgICAgICAvLyAgICAgLmF0dHIoJ2lkJyx2YWwuaWQpXG4gICAgICAgIC8vICAgICAudGV4dChzdHVmZltpbmRleF0pXG4gICAgICAgIC8vICAgICAuYXBwZW5kVG8oJy5maW5kQnlJZCcpO1xuICAgICAgICAvLyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cblxuJCgnZGl2I2ZpbmROZWFyQmVlcicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gIHZhciBsYXQgPSAkKCdkaXYjZmluZE5lYXJCZWVyJykuYXR0cignbGF0Jyk7XG4gIHZhciBsbmcgPSAkKCdkaXYjZmluZE5lYXJCZWVyJykuYXR0cignbG5nJyk7XG4gICQoJ2xpLmJlZXJJbmZvJykucmVtb3ZlKCk7XG4gICQuZ2V0SlNPTiggXCIvZmluZE5lYXJCZWVyL1wiK2xhdCtcIi9cIitsbmcsIGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICQuZWFjaCggZGF0YSwgZnVuY3Rpb24oIGtleSwgdmFsICkge1xuICAgICAgICBpZihrZXkgPT09ICdkYXRhJykge1xuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IDEwOyBtKyspIHtcbiAgICAgICAgICAkKCc8bGkvPicpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnYmVlckluZm8nKVxuICAgICAgICAgICAgICAuYXR0cignaWQnLHZhbFttXS5icmV3ZXJ5LmlkKVxuICAgICAgICAgICAgICAuaHRtbCgnPGRpdiBjbGFzcz1cImJyZXdlcnlOYW1lXCI+Jyt2YWxbbV0uYnJld2VyeS5uYW1lKyc8L2Rpdj4nKVxuICAgICAgICAgICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYnJld2VyeUFkZHJlc3NcIj4nK3ZhbFttXS5zdHJlZXRBZGRyZXNzKyc8L2Rpdj4nKVxuICAgICAgICAgICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYnJld2VyeVBob25lXCI+Jyt2YWxbbV0ucGhvbmUrJzwvZGl2PicpXG4gICAgICAgICAgICAgIC5hcHBlbmRUbygndWwjYmVlckRhdGEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcblxuJCgndWwjYmVlckRhdGEnKS5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbihldmVudCl7XG4gICAgdmFyIGJyZXdlcnlJZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAvLyAkKCcuYnJld2VyeUJlZXJzJykucmVtb3ZlKCk7XG4gICAgJC5nZXRKU09OKCBcIi9icmV3ZXJ5L1wiK2JyZXdlcnlJZCtcIi9iZWVyc1wiLCBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAgIGlmKGRhdGEuZGF0YSkge1xuICAgICAgICB2YXIgbGlzdERpdiA9ICQoIFwiPGRpdiBjbGFzcz0nYnJld2VyeUJlZXJzJz48L2Rpdj5cIilcbiAgICAgICAgICAgIC5hcHBlbmRUbygnbGkjJyticmV3ZXJ5SWQpO1xuICAgICAgICAkLmVhY2goZGF0YS5kYXRhLCBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgICAgdmFyIGJlZXJzRGl2ID0gJCgnPGRpdi8+JylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGRhdGEuZGF0YVtrZXldLmlkKVxuICAgICAgICAgICAgLmFwcGVuZFRvKGxpc3REaXYpO1xuICAgICAgICAkKCc8c3BhbiBjbGFzcz1cImZpbmRCeUlkXCIvPicpXG4gICAgICAgICAgICAuaHRtbCgnPHNwYW4gY2xhc3M9XCJkaXNwbGF5TmFtZVwiPicrZGF0YS5kYXRhW2tleV0ubmFtZURpc3BsYXkrJzwvc3Bhbj4nKVxuICAgICAgICAgICAgLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJhYnZcIj4nK2RhdGEuZGF0YVtrZXldLmFidisnPC9zcGFuPicpXG4gICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24oKXtnZXRCZWVySW5mbyhkYXRhLmRhdGFba2V5XS5pZCk7fSlcbiAgICAgICAgICAgIC5hcHBlbmRUbyhiZWVyc0Rpdik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnPGRpdiBjbGFzcz1cImJyZXdlcnlCZWVyc1wiPjwvZGl2PicpXG4gICAgICAgICAgICAgIC5odG1sKCc8ZGl2PlNvcnJ5LCBubyBiZWVyIGRhdGEgYXZhaWxhYmxlIGZvciB0aGlzIGJyZXdlcnkuPC9kaXY+JylcbiAgICAgICAgICAgICAgLmFwcGVuZFRvKCdsaSMnK2JyZXdlcnlJZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuIiwidmFyIG1hcCwgaW5mb1dpbmRvdztcbiBmdW5jdGlvbiBpbml0TWFwKCkge1xuICAvLyAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcbiAgLy8gICAgY2VudGVyOiB7bGF0OiA0NS41MjMxLCBsbmc6IC0xMjIuNjc2NX0sXG4gIC8vICAgIHpvb206IDEwXG4gIC8vICB9KTtcbiAgLy8gIGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdygpO1xuXG4gICAvLyBUcnkgSFRNTDUgZ2VvbG9jYXRpb24uXG4gICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICB2YXIgcG9zID0ge1xuICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcbiAgICAgICB9O1xuICAgICAgICQoJ2RpdiNmaW5kTmVhckJlZXInKS5hdHRyKHtcbiAgICAgICAgIGxhdCA6IHBvcy5sYXQsXG4gICAgICAgICBsbmcgOiBwb3MubG5nXG4gICAgICAgfSk7XG4gICAgICAvLyBJcyBpdCBxdWlja2VyIHRvIGdldCBhIHN0cmVldCBhZGRyZXNzIG9yIGEgbGF0bG5nP1xuICAgICAgLy8gZmluZCBhZGRyZXNzXG4gICAgICAvLyBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP2xhdGxuZz0nK3Bvcy5sYXQrJywnK3Bvcy5sbmcma2V5PUFJemFTeURLLS0yeTlLWTlOX2JUdzFXWTFxU0IwdWJfNGt1Q2Jta1xuICAgICAgLy8gIG1hcC5zZXRDZW50ZXIocG9zKTtcbiAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgaGFuZGxlTG9jYXRpb25FcnJvcih0cnVlLCBpbmZvV2luZG93LCBtYXAuZ2V0Q2VudGVyKCkpO1xuICAgICB9KTtcbiAgIH0gZWxzZSB7XG4gICAgIC8vIEJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IEdlb2xvY2F0aW9uXG4gICAgIGhhbmRsZUxvY2F0aW9uRXJyb3IoZmFsc2UsIGluZm9XaW5kb3csIG1hcC5nZXRDZW50ZXIoKSk7XG4gICB9XG4gfVxuXG4gZnVuY3Rpb24gaGFuZGxlTG9jYXRpb25FcnJvcihicm93c2VySGFzR2VvbG9jYXRpb24sIGluZm9XaW5kb3csIHBvcykge1xuICAgaW5mb1dpbmRvdy5zZXRQb3NpdGlvbihwb3MpO1xuICAgaW5mb1dpbmRvdy5zZXRDb250ZW50KGJyb3dzZXJIYXNHZW9sb2NhdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgJ0Vycm9yOiBUaGUgR2VvbG9jYXRpb24gc2VydmljZSBmYWlsZWQuJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgJ0Vycm9yOiBZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgZ2VvbG9jYXRpb24uJyk7XG4gICBpbmZvV2luZG93Lm9wZW4obWFwKTtcbiB9XG5cbmZ1bmN0aW9uIGFkZE1hcmtlcihsYXQsIGxuZykge1xuICBjb25zb2xlLmxvZyhsYXQsIGxuZyk7XG4gIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICBsYXQ6IGxhdCxcbiAgICBsbmc6IGxuZyxcbiAgICBtYXA6IG1hcFxuICB9KTtcblxuXG59XG4iXX0=
