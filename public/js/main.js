function makeBeerList(e){$.getJSON("/brewery/"+e+"/beers",function(e){}).done(function(a){var r=$("<div class='breweryBeers'></div>").attr("id",e);a.data?($(".breweryItem#"+e).after(r),$.each(a.data,function(e,n){var o=$("<div/>").attr("id",a.data[e].id).addClass("findById").append('<span class="displayName">'+a.data[e].nameDisplay+"</span>").append('<span class="abv">'+a.data[e].abv+"</span>");r.append(o)})):($(".breweryItem#"+e).after(r),r.append("<div>Sorry, no beer data available for this brewery.</div>"))})}function findNearBeer(){var e=$("div.wrapper").attr("lat"),a=$("div.wrapper").attr("lng");$.getJSON("/findNearBeer/"+e+"/"+a,function(e){}).done(function(e){$.each(e,function(e,a){if("data"===e)for(var r,n=0;n<10;n++)r=void 0!==a[n].brewery.images?a[n].brewery.images.icon:"../images/beer.png",$("<div/>").attr("id",a[n].brewery.id).addClass("breweryItem").html('<span class="icon"><img src="'+r+'"></span>').append('<div class="breweryName">'+a[n].brewery.name+"</div>").append('<div class="breweryAddress">'+a[n].streetAddress+"</div>").append('<div class="breweryPhone">'+a[n].phone+"</div>").appendTo(".beerData"),$(".breweryItem#"+a[n].brewery.id).before('<div class="toggle" id="'+a[n].brewery.id+'">Show/hide beers</div>')})})}function findMe(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude};fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng="+a.lat+","+a.lng+"&key=AIzaSyDK--2y9KY9N_bTw1WY1qSB0ub_4kuCbmk").then(function(e){return e.json()}).then(function(e){$(".wrapper").attr({lat:a.lat,lng:a.lng}),$(".loader").addClass("locationFound"),$(".loader").remove(),$(".display").css("visibility","visible"),findNearBeer();var r={lat:a.lat,lng:a.lng};map=new google.maps.Map(document.getElementById("map"),{center:r,zoom:15}),infowindow=new google.maps.InfoWindow({content:"You are here.",position:r}),infowindow.open(map)}).catch(function(e){console.log(e)})},function(){handleLocationError(!0,infoWindow,map.getCenter())}):handleLocationError(!1,infoWindow,map.getCenter())}function handleLocationError(e,a,r){a.setPosition(r),a.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),a.open(map)}$(".beerData").on("click",".toggle",function(){var e=$(this).attr("id");$(".beerData .breweryBeers#"+e).length>0?$(".beerData .breweryBeers#"+e).remove():($(".breweryBeers").not(".breweryBeers#"+e).remove(),makeBeerList(e))}),$(".beerData").on("click",".findById",function(){var e=$(this).attr("id");$(".beerInfo").remove(),$.getJSON("/beer/"+e,function(e){}).done(function(e){$.each(e,function(e,a){if("data"===e){var r=$('<div class="beerInfo"/>').attr("id",a.id).html("<div>Info about this beer!</div>");$(".findById#"+a.id).after(r)}})})});var map,marker,infoWindow;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXkuanMiLCJtYXBzLmpzIl0sIm5hbWVzIjpbIm1ha2VCZWVyTGlzdCIsImJyZXdlcnlJZCIsIiQiLCJnZXRKU09OIiwiZGF0YSIsImRvbmUiLCJiZWVyTGlzdCIsImF0dHIiLCJhZnRlciIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsImJlZXJJbmZvIiwiaWQiLCJhZGRDbGFzcyIsImFwcGVuZCIsIm5hbWVEaXNwbGF5IiwiYWJ2IiwiZmluZE5lYXJCZWVyIiwibGF0IiwibG5nIiwidmFsIiwiaWNvbiIsIm0iLCJ1bmRlZmluZWQiLCJicmV3ZXJ5IiwiaW1hZ2VzIiwiaHRtbCIsIm5hbWUiLCJzdHJlZXRBZGRyZXNzIiwicGhvbmUiLCJhcHBlbmRUbyIsImJlZm9yZSIsImZpbmRNZSIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJwb3MiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsInJlbW92ZSIsImNzcyIsImNlbnRlciIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImluZm93aW5kb3ciLCJJbmZvV2luZG93IiwiY29udGVudCIsIm9wZW4iLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImhhbmRsZUxvY2F0aW9uRXJyb3IiLCJpbmZvV2luZG93IiwiZ2V0Q2VudGVyIiwiYnJvd3Nlckhhc0dlb2xvY2F0aW9uIiwic2V0UG9zaXRpb24iLCJzZXRDb250ZW50Iiwib24iLCJ0aGlzIiwibGVuZ3RoIiwibm90IiwiYmVlcklkIiwibWFya2VyIl0sIm1hcHBpbmdzIjoiQUEyQkEsU0FBQUEsYUFBQUMsR0FDQUMsRUFBQUMsUUFBQSxZQUFBRixFQUFBLFNBQUEsU0FBQUcsTUFHQUMsS0FBQSxTQUFBRCxHQUNBLElBQUFFLEVBQUFKLEVBQUEs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QSxpQkFBQXVFLElBQUEsaUJBQUF4RSxHQUFBNkMsU0FDQTlDLGFBQUFDLE1BSUFDLEVBQUEsYUFBQW9FLEdBQUEsUUFBQSxZQUFBLFdBQ0EsSUFBQUksRUFBQXhFLEVBQUFxRSxNQUFBaEUsS0FBQSxNQUNBTCxFQUFBLGFBQUE0QyxTQUNBNUMsRUFBQUMsUUFBQSxTQUFBdUUsRUFBQSxTQUFBdEUsTUFFQUMsS0FBQSxTQUFBRCxHQUNBRixFQUFBTyxLQUFBTCxFQUFBLFNBQUFNLEVBQUFXLEdBQ0EsR0FBQSxTQUFBWCxFQUFBLENBQ0EsSUFBQUUsRUFBQVYsRUFBQSwyQkFDQUssS0FBQSxLQUFBYyxFQUFBUixJQUNBYyxLQUFBLG9DQUNBekIsRUFBQSxhQUFBbUIsRUFBQVIsSUFBQUwsTUFBQUksVUNyQkEsSUFBQXFDLElBQUEwQixPQUFBViIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgnLmJlZXJEYXRhJykub24oJ2NsaWNrJywgJy50b2dnbGUnLCBmdW5jdGlvbigpIHtcbiAgdmFyIGJyZXdlcnlJZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgaWYoJCgnLmJlZXJEYXRhIC5icmV3ZXJ5QmVlcnMjJyticmV3ZXJ5SWQpLmxlbmd0aCA+IDApIHtcbiAgICAkKCcuYmVlckRhdGEgLmJyZXdlcnlCZWVycyMnK2JyZXdlcnlJZCkucmVtb3ZlKCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmJyZXdlcnlCZWVycycpLm5vdCgnLmJyZXdlcnlCZWVycyMnK2JyZXdlcnlJZCkucmVtb3ZlKCk7XG4gICAgbWFrZUJlZXJMaXN0KGJyZXdlcnlJZCk7XG4gIH1cbn0pO1xuXG4kKCcuYmVlckRhdGEnKS5vbignY2xpY2snLCAnLmZpbmRCeUlkJywgZnVuY3Rpb24oKSB7XG4gIHZhciBiZWVySWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICQoJy5iZWVySW5mbycpLnJlbW92ZSgpO1xuICAkLmdldEpTT04oIFwiL2JlZXIvXCIrYmVlcklkLCBmdW5jdGlvbihkYXRhKSB7XG4gIH0pXG4gIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAkLmVhY2goIGRhdGEsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHtcbiAgICAgIGlmKGtleSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgIHZhciBiZWVySW5mbyA9ICQoJzxkaXYgY2xhc3M9XCJiZWVySW5mb1wiLz4nKVxuICAgICAgICAuYXR0cignaWQnLHZhbC5pZClcbiAgICAgICAgLmh0bWwoJzxkaXY+SW5mbyBhYm91dCB0aGlzIGJlZXIhPC9kaXY+Jyk7XG4gICAgICAgICQoJy5maW5kQnlJZCMnK3ZhbC5pZCkuYWZ0ZXIoYmVlckluZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBtYWtlQmVlckxpc3QoYnJld2VyeUlkKSB7XG4gICQuZ2V0SlNPTiggXCIvYnJld2VyeS9cIiticmV3ZXJ5SWQrXCIvYmVlcnNcIiwgZnVuY3Rpb24oZGF0YSkge1xuICAvLyBjb25zb2xlLmxvZygnc3VjY2VzcycpO1xuICB9KVxuICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIGJlZXJMaXN0ID0gJChcIjxkaXYgY2xhc3M9J2JyZXdlcnlCZWVycyc+PC9kaXY+XCIpXG4gICAgLmF0dHIoJ2lkJywgYnJld2VyeUlkKTtcbiAgICBpZihkYXRhLmRhdGEpIHtcbiAgICAgICQoJy5icmV3ZXJ5SXRlbSMnK2JyZXdlcnlJZCkuYWZ0ZXIoYmVlckxpc3QpO1xuICAgICAgJC5lYWNoKGRhdGEuZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICAgIHZhciBiZWVySW5mbyA9ICQoJzxkaXYvPicpXG4gICAgICAgIC5hdHRyKCdpZCcsIGRhdGEuZGF0YVtrZXldLmlkKVxuICAgICAgICAuYWRkQ2xhc3MoJ2ZpbmRCeUlkJylcbiAgICAgICAgLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJkaXNwbGF5TmFtZVwiPicrZGF0YS5kYXRhW2tleV0ubmFtZURpc3BsYXkrJzwvc3Bhbj4nKVxuICAgICAgICAuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImFidlwiPicrZGF0YS5kYXRhW2tleV0uYWJ2Kyc8L3NwYW4+Jyk7XG4gICAgICAgIGJlZXJMaXN0LmFwcGVuZChiZWVySW5mbyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmJyZXdlcnlJdGVtIycrYnJld2VyeUlkKS5hZnRlcihiZWVyTGlzdCk7XG4gICAgICBiZWVyTGlzdC5hcHBlbmQoJzxkaXY+U29ycnksIG5vIGJlZXIgZGF0YSBhdmFpbGFibGUgZm9yIHRoaXMgYnJld2VyeS48L2Rpdj4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmaW5kTmVhckJlZXIoKSB7XG4gIHZhciBsYXQgPSAkKCdkaXYud3JhcHBlcicpLmF0dHIoJ2xhdCcpO1xuICB2YXIgbG5nID0gJCgnZGl2LndyYXBwZXInKS5hdHRyKCdsbmcnKTtcbiAgJC5nZXRKU09OKCBcIi9maW5kTmVhckJlZXIvXCIrbGF0K1wiL1wiK2xuZywgZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdzdWNjZXNzJyk7XG4gIH0pXG4gIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAkLmVhY2goIGRhdGEsIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgIGlmKGtleSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgdmFyIGljb247XG4gICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCAxMDsgbSsrKSB7XG4gICAgICAgICAgICBpZih2YWxbbV0uYnJld2VyeS5pbWFnZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBpY29uID0gdmFsW21dLmJyZXdlcnkuaW1hZ2VzLmljb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpY29uID0gJy4uL2ltYWdlcy9iZWVyLnBuZyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKCc8ZGl2Lz4nKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJyx2YWxbbV0uYnJld2VyeS5pZClcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYnJld2VyeUl0ZW0nKVxuICAgICAgICAgICAgLmh0bWwoJzxzcGFuIGNsYXNzPVwiaWNvblwiPjxpbWcgc3JjPVwiJytpY29uKydcIj48L3NwYW4+JylcbiAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJicmV3ZXJ5TmFtZVwiPicrdmFsW21dLmJyZXdlcnkubmFtZSsnPC9kaXY+JylcbiAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJicmV3ZXJ5QWRkcmVzc1wiPicrdmFsW21dLnN0cmVldEFkZHJlc3MrJzwvZGl2PicpXG4gICAgICAgICAgICAuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYnJld2VyeVBob25lXCI+Jyt2YWxbbV0ucGhvbmUrJzwvZGl2PicpXG4gICAgICAgICAgICAuYXBwZW5kVG8oJy5iZWVyRGF0YScpO1xuICAgICAgICAgICAgJCgnLmJyZXdlcnlJdGVtIycrdmFsW21dLmJyZXdlcnkuaWQpLmJlZm9yZSgnPGRpdiBjbGFzcz1cInRvZ2dsZVwiIGlkPVwiJyt2YWxbbV0uYnJld2VyeS5pZCsnXCI+U2hvdy9oaWRlIGJlZXJzPC9kaXY+Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwidmFyIG1hcCwgbWFya2VyLCBpbmZvV2luZG93O1xuZnVuY3Rpb24gZmluZE1lKCkge1xuICAgLy8gVHJ5IEhUTUw1IGdlb2xvY2F0aW9uLlxuaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gIHZhciBwb3MgPSB7XG4gICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXG4gIH07XG4gIGZldGNoKCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP2xhdGxuZz0nK3Bvcy5sYXQrJywnK3Bvcy5sbmcrJyZrZXk9QUl6YVN5REstLTJ5OUtZOU5fYlR3MVdZMXFTQjB1Yl80a3VDYm1rJylcbiAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgeyByZXR1cm4gcmVzcG9uc2UuanNvbigpOyB9KVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICQoJy53cmFwcGVyJykuYXR0cih7XG4gICAgICAgIGxhdCA6IHBvcy5sYXQsXG4gICAgICAgIGxuZyA6IHBvcy5sbmdcbiAgICAgIH0pO1xuICAgICAgJCgnLmxvYWRlcicpLmFkZENsYXNzKCdsb2NhdGlvbkZvdW5kJyk7XG4gICAgICAkKCcubG9hZGVyJykucmVtb3ZlKCk7XG4gICAgICAkKCcuZGlzcGxheScpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICBmaW5kTmVhckJlZXIoKTtcbiAgICAgIHZhciBjZW50ZXIgPSB7J2xhdCc6IHBvcy5sYXQsICdsbmcnOiBwb3MubG5nfTtcbiAgICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG4gICAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgICB6b29tOiAxNVxuICAgICAgfSk7XG4gICAgICBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuICAgICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGhlcmUuJyxcbiAgICAgICAgICBwb3NpdGlvbjogY2VudGVyXG4gICAgICAgIH0pO1xuICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24oKSB7XG4gICAgaGFuZGxlTG9jYXRpb25FcnJvcih0cnVlLCBpbmZvV2luZG93LCBtYXAuZ2V0Q2VudGVyKCkpO1xuICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBHZW9sb2NhdGlvblxuICAgIGhhbmRsZUxvY2F0aW9uRXJyb3IoZmFsc2UsIGluZm9XaW5kb3csIG1hcC5nZXRDZW50ZXIoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTG9jYXRpb25FcnJvcihicm93c2VySGFzR2VvbG9jYXRpb24sIGluZm9XaW5kb3csIHBvcykge1xuICBpbmZvV2luZG93LnNldFBvc2l0aW9uKHBvcyk7XG4gIGluZm9XaW5kb3cuc2V0Q29udGVudChicm93c2VySGFzR2VvbG9jYXRpb24gP1xuICAgICdFcnJvcjogVGhlIEdlb2xvY2F0aW9uIHNlcnZpY2UgZmFpbGVkLicgOlxuICAgICdFcnJvcjogWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGdlb2xvY2F0aW9uLicpO1xuICBpbmZvV2luZG93Lm9wZW4obWFwKTtcbn1cbiJdfQ==
