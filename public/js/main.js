function getBeerInfo(e){$(".breweryBeers").remove(),$.getJSON("/beer/"+e,function(e){$.each(e,function(e,a){"data"===e&&console.log(a)})})}function findMe(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude};fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng="+a.lat+","+a.lng+"&key=AIzaSyDK--2y9KY9N_bTw1WY1qSB0ub_4kuCbmk").then(function(e){return e.json()}).then(function(e){var n=e.results[0].formatted_address;$("div#findNearBeer").attr({lat:a.lat,lng:a.lng}),$("div#loader").addClass("locationFound"),$("div.leftCol").css("visibility","visible"),$("div.yourLocation").html("I found you near "+n)}).catch(function(e){console.log(e)})},function(){handleLocationError(!0,infoWindow,map.getCenter())}):handleLocationError(!1,infoWindow,map.getCenter())}function handleLocationError(e,a,n){a.setPosition(n),a.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),a.open(map)}$("div#findNearBeer").click(function(){var e=$("div#findNearBeer").attr("lat"),a=$("div#findNearBeer").attr("lng");$("li.beerInfo").remove(),$.getJSON("/findNearBeer/"+e+"/"+a,function(e){$.each(e,function(e,a){if("data"===e)for(var n,o=0;o<10;o++)n=void 0!==a[o].brewery.images?a[o].brewery.images.icon:"../images/beer.png",$("<li/>").attr("id",a[o].brewery.id).append('<span class="icon"><img src="'+n+'"></span>').append('<span><div class="breweryName">'+a[o].brewery.name+"</div>").append('<div class="breweryAddress">'+a[o].streetAddress+"</div>").append('<div class="breweryPhone">'+a[o].phone+"</div></span>").appendTo("ul#beerData")})})}),$("ul#beerData").on("click","li",function(e){var a=$(this).attr("id");$.getJSON("/brewery/"+a+"/beers",function(e){if(e.data){var n=$("<div class='breweryBeers'></div>").appendTo("li#"+a);$.each(e.data,function(a,o){var r=$("<div/>").attr("id",e.data[a].id).appendTo(n);$('<span class="findById"/>').html('<span class="displayName">'+e.data[a].nameDisplay+"</span>").append('<span class="abv">'+e.data[a].abv+"</span>").click(function(){getBeerInfo(e.data[a].id)}).appendTo(r)})}else $('<div class="breweryBeers"></div>').html("<div>Sorry, no beer data available for this brewery.</div>").appendTo("li#"+a)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXkuanMiLCJtYXBzLmpzIl0sIm5hbWVzIjpbImdldEJlZXJJbmZvIiwiYmVlcklkIiwiJCIsInJlbW92ZSIsImdldEpTT04iLCJkYXRhIiwiZWFjaCIsImtleSIsInZhbCIsImNvbnNvbGUiLCJsb2ciLCJmaW5kTWUiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwicG9zIiwibGF0IiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJhZGRyZXNzIiwicmVzdWx0cyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiYXR0ciIsImFkZENsYXNzIiwiY3NzIiwiaHRtbCIsImNhdGNoIiwiZXJyb3IiLCJoYW5kbGVMb2NhdGlvbkVycm9yIiwiaW5mb1dpbmRvdyIsIm1hcCIsImdldENlbnRlciIsImJyb3dzZXJIYXNHZW9sb2NhdGlvbiIsInNldFBvc2l0aW9uIiwic2V0Q29udGVudCIsIm9wZW4iLCJjbGljayIsImljb24iLCJtIiwidW5kZWZpbmVkIiwiYnJld2VyeSIsImltYWdlcyIsImlkIiwiYXBwZW5kIiwibmFtZSIsInN0cmVldEFkZHJlc3MiLCJwaG9uZSIsImFwcGVuZFRvIiwib24iLCJldmVudCIsImJyZXdlcnlJZCIsInRoaXMiLCJsaXN0RGl2IiwidmFsdWUiLCJiZWVyc0RpdiIsIm5hbWVEaXNwbGF5IiwiYWJ2Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFBQSxZQUFBQyxHQUNBQyxFQUFBLGlCQUFBQyxTQUNBRCxFQUFBRSxRQUFBLFNBQUFILEVBQUEsU0FBQUksR0FDQUgsRUFBQUksS0FBQUQsRUFBQSxTQUFBRSxFQUFBQyxHQUNBLFNBQUFELEdBQ0FFLFFBQUFDLElBQUFGLE9DTEEsU0FBQUcsU0FFQUMsVUFBQUMsWUFDQUQsVUFBQUMsWUFBQUMsbUJBQUEsU0FBQUMsR0FDQSxJQUFBQyxHQUNBQyxJQUFBRixFQUFBRyxPQUFBQyxTQUNBQyxJQUFBTCxFQUFBRyxPQUFBRyxXQUVBQyxNQUFBLDREQUFBTixFQUFBQyxJQUFBLElBQUFELEVBQUFJLElBQUEsZ0RBQ0FHLEtBQUEsU0FBQUMsR0FBQSxPQUFBQSxFQUFBQyxTQUNBRixLQUFBLFNBQUFsQixHQUNBLElBQUFxQixFQUFBckIsRUFBQXNCLFFBQUEsR0FBQUMsa0JBQ0ExQixFQUFBLG9CQUFBMkIsTUFDQVosSUFBQUQsRUFBQUMsSUFDQUcsSUFBQUosRUFBQUksTUFFQWxCLEVBQUEsY0FBQTRCLFNBQUEsaUJBQ0E1QixFQUFBLGVBQUE2QixJQUFBLGFBQUEsV0FDQTdCLEVBQUEsb0JBQUE4QixLQUFBLG9CQUFBTixLQUVBTyxNQUFBLFNBQUFDLEdBQ0F6QixRQUFBQyxJQUFBd0IsTUFFQSxXQUNBQyxxQkFBQSxFQUFBQyxXQUFBQyxJQUFBQyxlQUlBSCxxQkFBQSxFQUFBQyxXQUFBQyxJQUFBQyxhQUlBLFNBQUFILG9CQUFBSSxFQUFBSCxFQUFBcEIsR0FDQW9CLEVBQUFJLFlBQUF4QixHQUNBb0IsRUFBQUssV0FBQUYsRUFDQSx5Q0FDQSxvREFDQUgsRUFBQU0sS0FBQUwsS0RsQkFuQyxFQUFBLG9CQUFBeUMsTUFBQSxXQUNBLElBQUExQixFQUFBZixFQUFBLG9CQUFBMkIsS0FBQSxPQUNBVCxFQUFBbEIsRUFBQSxvQkFBQTJCLEtBQUEsT0FDQTNCLEVBQUEsZUFBQUMsU0FDQUQsRUFBQUUsUUFBQSxpQkFBQWEsRUFBQSxJQUFBRyxFQUFBLFNBQUFmLEdBQ0FILEVBQUFJLEtBQUFELEVBQUEsU0FBQUUsRUFBQUMsR0FDQSxHQUFBLFNBQUFELEVBRUEsSUFBQSxJQURBcUMsRUFDQUMsRUFBQSxFQUFBQSxFQUFBLEdBQUFBLElBRUFELE9BREFFLElBQUF0QyxFQUFBcUMsR0FBQUUsUUFBQUMsT0FDQXhDLEVBQUFxQyxHQUFBRSxRQUFBQyxPQUFBSixLQUVBLHFCQUVBMUMsRUFBQSxTQUVBMkIsS0FBQSxLQUFBckIsRUFBQXFDLEdBQUFFLFFBQUFFLElBQ0FDLE9BQUEsZ0NBQUFOLEVBQUEsYUFDQU0sT0FBQSxrQ0FBQTFDLEVBQUFxQyxHQUFBRSxRQUFBSSxLQUFBLFVBQ0FELE9BQUEsK0JBQUExQyxFQUFBcUMsR0FBQU8sY0FBQSxVQUNBRixPQUFBLDZCQUFBMUMsRUFBQXFDLEdBQUFRLE1BQUEsaUJBQ0FDLFNBQUEscUJBT0FwRCxFQUFBLGVBQUFxRCxHQUFBLFFBQUEsS0FBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUF2RCxFQUFBd0QsTUFBQTdCLEtBQUEsTUFDQTNCLEVBQUFFLFFBQUEsWUFBQXFELEVBQUEsU0FBQSxTQUFBcEQsR0FDQSxHQUFBQSxFQUFBQSxLQUFBLENBQ0EsSUFBQXNELEVBQUF6RCxFQUFBLG9DQUNBb0QsU0FBQSxNQUFBRyxHQUNBdkQsRUFBQUksS0FBQUQsRUFBQUEsS0FBQSxTQUFBRSxFQUFBcUQsR0FDQSxJQUFBQyxFQUFBM0QsRUFBQSxVQUNBMkIsS0FBQSxLQUFBeEIsRUFBQUEsS0FBQUUsR0FBQTBDLElBQ0FLLFNBQUFLLEdBQ0F6RCxFQUFBLDRCQUNBOEIsS0FBQSw2QkFBQTNCLEVBQUFBLEtBQUFFLEdBQUF1RCxZQUFBLFdBQ0FaLE9BQUEscUJBQUE3QyxFQUFBQSxLQUFBRSxHQUFBd0QsSUFBQSxXQUNBcEIsTUFBQSxXQUFBM0MsWUFBQUssRUFBQUEsS0FBQUUsR0FBQTBDLE1BQ0FLLFNBQUFPLFVBR0EzRCxFQUFBLG9DQUNBOEIsS0FBQSw4REFDQXNCLFNBQUEsTUFBQUciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldEJlZXJJbmZvIChiZWVySWQpIHtcbiQoJy5icmV3ZXJ5QmVlcnMnKS5yZW1vdmUoKTtcbiAgJC5nZXRKU09OKCBcIi9iZWVyL1wiK2JlZXJJZCwgZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgJC5lYWNoKCBkYXRhLCBmdW5jdGlvbigga2V5LCB2YWwgKSB7XG4gICAgICBpZihrZXkgPT09ICdkYXRhJykge1xuICAgICAgICBjb25zb2xlLmxvZyh2YWwpO1xuICAgICAgICAvLyAkLmVhY2goc3R1ZmYsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSl7XG4gICAgICAgIC8vICAgJCgnPGxpLz4nKVxuICAgICAgICAvLyAgICAgLmFkZENsYXNzKCdiZWVySW5mbycpXG4gICAgICAgIC8vICAgICAuYXR0cignaWQnLHZhbC5pZClcbiAgICAgICAgLy8gICAgIC50ZXh0KHN0dWZmW2luZGV4XSlcbiAgICAgICAgLy8gICAgIC5hcHBlbmRUbygnLmZpbmRCeUlkJyk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuXG4kKCdkaXYjZmluZE5lYXJCZWVyJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgdmFyIGxhdCA9ICQoJ2RpdiNmaW5kTmVhckJlZXInKS5hdHRyKCdsYXQnKTtcbiAgdmFyIGxuZyA9ICQoJ2RpdiNmaW5kTmVhckJlZXInKS5hdHRyKCdsbmcnKTtcbiAgJCgnbGkuYmVlckluZm8nKS5yZW1vdmUoKTtcbiAgJC5nZXRKU09OKCBcIi9maW5kTmVhckJlZXIvXCIrbGF0K1wiL1wiK2xuZywgZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgJC5lYWNoKCBkYXRhLCBmdW5jdGlvbigga2V5LCB2YWwgKSB7XG4gICAgICAgIGlmKGtleSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgIHZhciBpY29uO1xuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IDEwOyBtKyspIHtcbiAgICAgICAgICBpZih2YWxbbV0uYnJld2VyeS5pbWFnZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWNvbiA9IHZhbFttXS5icmV3ZXJ5LmltYWdlcy5pY29uO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpY29uID0gJy4uL2ltYWdlcy9iZWVyLnBuZyc7XG4gICAgICAgICAgfVxuICAgICAgICAgICQoJzxsaS8+JylcbiAgICAgICAgICAgICAgLy8gLmFkZENsYXNzKCdiZWVySW5mbycpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oKXskKCcuYnJld2VyeUJlZXJzJykucmVtb3ZlKCk7fSlcbiAgICAgICAgICAgICAgLmF0dHIoJ2lkJyx2YWxbbV0uYnJld2VyeS5pZClcbiAgICAgICAgICAgICAgLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJpY29uXCI+PGltZyBzcmM9XCInK2ljb24rJ1wiPjwvc3Bhbj4nKVxuICAgICAgICAgICAgICAuYXBwZW5kKCc8c3Bhbj48ZGl2IGNsYXNzPVwiYnJld2VyeU5hbWVcIj4nK3ZhbFttXS5icmV3ZXJ5Lm5hbWUrJzwvZGl2PicpXG4gICAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJicmV3ZXJ5QWRkcmVzc1wiPicrdmFsW21dLnN0cmVldEFkZHJlc3MrJzwvZGl2PicpXG4gICAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJicmV3ZXJ5UGhvbmVcIj4nK3ZhbFttXS5waG9uZSsnPC9kaXY+PC9zcGFuPicpXG4gICAgICAgICAgICAgIC5hcHBlbmRUbygndWwjYmVlckRhdGEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcblxuJCgndWwjYmVlckRhdGEnKS5vbignY2xpY2snLCAnbGknLCBmdW5jdGlvbihldmVudCl7XG4gICAgdmFyIGJyZXdlcnlJZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAkLmdldEpTT04oIFwiL2JyZXdlcnkvXCIrYnJld2VyeUlkK1wiL2JlZXJzXCIsIGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgaWYoZGF0YS5kYXRhKSB7XG4gICAgICAgIHZhciBsaXN0RGl2ID0gJCggXCI8ZGl2IGNsYXNzPSdicmV3ZXJ5QmVlcnMnPjwvZGl2PlwiKVxuICAgICAgICAgICAgLmFwcGVuZFRvKCdsaSMnK2JyZXdlcnlJZCk7XG4gICAgICAgICQuZWFjaChkYXRhLmRhdGEsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgICB2YXIgYmVlcnNEaXYgPSAkKCc8ZGl2Lz4nKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZGF0YS5kYXRhW2tleV0uaWQpXG4gICAgICAgICAgICAuYXBwZW5kVG8obGlzdERpdik7XG4gICAgICAgICQoJzxzcGFuIGNsYXNzPVwiZmluZEJ5SWRcIi8+JylcbiAgICAgICAgICAgIC5odG1sKCc8c3BhbiBjbGFzcz1cImRpc3BsYXlOYW1lXCI+JytkYXRhLmRhdGFba2V5XS5uYW1lRGlzcGxheSsnPC9zcGFuPicpXG4gICAgICAgICAgICAuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImFidlwiPicrZGF0YS5kYXRhW2tleV0uYWJ2Kyc8L3NwYW4+JylcbiAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbigpe2dldEJlZXJJbmZvKGRhdGEuZGF0YVtrZXldLmlkKTt9KVxuICAgICAgICAgICAgLmFwcGVuZFRvKGJlZXJzRGl2KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiYnJld2VyeUJlZXJzXCI+PC9kaXY+JylcbiAgICAgICAgICAgICAgLmh0bWwoJzxkaXY+U29ycnksIG5vIGJlZXIgZGF0YSBhdmFpbGFibGUgZm9yIHRoaXMgYnJld2VyeS48L2Rpdj4nKVxuICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2xpIycrYnJld2VyeUlkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG4iLCJmdW5jdGlvbiBmaW5kTWUoKSB7XG4gICAvLyBUcnkgSFRNTDUgZ2VvbG9jYXRpb24uXG4gICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICB2YXIgcG9zID0ge1xuICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICBsbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcbiAgICAgICB9O1xuICAgICAgIGZldGNoKCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP2xhdGxuZz0nK3Bvcy5sYXQrJywnK3Bvcy5sbmcrJyZrZXk9QUl6YVN5REstLTJ5OUtZOU5fYlR3MVdZMXFTQjB1Yl80a3VDYm1rJylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHZhciBhZGRyZXNzID0gZGF0YS5yZXN1bHRzWzBdLmZvcm1hdHRlZF9hZGRyZXNzO1xuICAgICAgICAgICAgICQoJ2RpdiNmaW5kTmVhckJlZXInKS5hdHRyKHtcbiAgICAgICAgICAgICAgIGxhdCA6IHBvcy5sYXQsXG4gICAgICAgICAgICAgICBsbmcgOiBwb3MubG5nXG4gICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICQoJ2RpdiNsb2FkZXInKS5hZGRDbGFzcygnbG9jYXRpb25Gb3VuZCcpO1xuICAgICAgICAgICAgICAkKCdkaXYubGVmdENvbCcpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICQoJ2Rpdi55b3VyTG9jYXRpb24nKS5odG1sKCdJIGZvdW5kIHlvdSBuZWFyICcrYWRkcmVzcyk7XG4gICAgICAgICB9KVxuICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pO1xuICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICBoYW5kbGVMb2NhdGlvbkVycm9yKHRydWUsIGluZm9XaW5kb3csIG1hcC5nZXRDZW50ZXIoKSk7XG4gICAgIH0pO1xuICAgfSBlbHNlIHtcbiAgICAgLy8gQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgR2VvbG9jYXRpb25cbiAgICAgaGFuZGxlTG9jYXRpb25FcnJvcihmYWxzZSwgaW5mb1dpbmRvdywgbWFwLmdldENlbnRlcigpKTtcbiAgIH1cbiB9XG5cbiBmdW5jdGlvbiBoYW5kbGVMb2NhdGlvbkVycm9yKGJyb3dzZXJIYXNHZW9sb2NhdGlvbiwgaW5mb1dpbmRvdywgcG9zKSB7XG4gICBpbmZvV2luZG93LnNldFBvc2l0aW9uKHBvcyk7XG4gICBpbmZvV2luZG93LnNldENvbnRlbnQoYnJvd3Nlckhhc0dlb2xvY2F0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAnRXJyb3I6IFRoZSBHZW9sb2NhdGlvbiBzZXJ2aWNlIGZhaWxlZC4nIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAnRXJyb3I6IFlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBnZW9sb2NhdGlvbi4nKTtcbiAgIGluZm9XaW5kb3cub3BlbihtYXApO1xuIH1cbiJdfQ==
